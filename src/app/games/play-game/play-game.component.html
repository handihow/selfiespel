<section fxLayout="row" fxLayoutAlign="space-around stretch" 
			fxLayout.lt-sm="column" fxLayoutAlign.lt-sm="center stretch" fxLayoutGap="10px" class="header-section">
	<mat-card>
		<mat-card-header>
			<mat-card-title>
				{{game?.name}}
			</mat-card-title>
			<mat-card-subtitle>
				{{game?.date.toDate() | date:'dd-MM-yyyy'}}
			</mat-card-subtitle>
		</mat-card-header>
		<mat-card-actions>
			<a mat-button matTooltip="Terug" routerLink="/games">TERUG</a>
		</mat-card-actions>
	</mat-card>
	<app-actions-card *ngIf="isOwner"></app-actions-card>
</section>

<section fxLayout="row" fxLayoutAlign="center center">
	<h3>Neem een selfie met....</h3>
</section>

<mat-accordion class="headers-align">
	<mat-expansion-panel *ngFor="let assignment of game?.assignments; let i=index"
				(opened)="onOpenPanel(i)"
                (closed)="onClosePanel(i)">
	  <mat-expansion-panel-header>
	    <mat-panel-title>
		    {{assignment.assignment}}
		</mat-panel-title>
	    <mat-panel-description *ngIf="thumbnails$[i] | async as url">
		    	<mat-icon>check</mat-icon>
	    		<img class="avatar" [src]="url">
  	    </mat-panel-description>
	  </mat-expansion-panel-header>
	  <div *ngIf="i===assignmentId" class="image-handler">
		  <app-file-upload [userId]="user?.uid" [gameId]="game?.id" [groupId]="groupId" 
		  					[assignmentId]="assignmentId" *ngIf="!containsImage && hasObtainedImageStatus"></app-file-upload>
		  <app-image-viewer [userId]="user?.uid" [gameId]="game?.id" [groupId]="groupId" [hidden]="!containsImage"
		  					[assignmentId]="assignmentId" (containsImage)="retrieveImageState($event)"></app-image-viewer>
	  </div>
	   <mat-action-row *ngIf="containsImage">
	    <button mat-button (click)="onRotate()">Roteren</button>
	    <button mat-button>Neem opnieuw</button>
	  </mat-action-row>
	</mat-expansion-panel>
</mat-accordion>